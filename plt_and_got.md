# Procedure Linkage Table(PLT) and Global Offset Table(GOT)

```
0x40057d push	rbp
0x40057e  mov	rbp, rsp
0x400581  mov	edi, 0x400624
0x400586 call	puts # 0x400450 [STUB]
0x40058b  mov	edi, 0x400631
...
```

1. when a program encounters a symbol it points an address to the related plt section and jumps.

```
#Procedure Linkage Table

0x400440 push	qword [ds:0x601008]
0x400446 jmp	qword [ds:0x601010] <= _dl_runtime_resolve
0x40044c nop	dword [ds:rax]

	puts:
0x400450 jmp	qword [ds:puts@GOT] #0x404018
0x400456 push	0x0
0x40045b jmp	0x400440
```

```
#Global Offset Table
;-- puts:
0x404018 .qword	0x400456
```

In gdb
```
(gdb) disassemble main
.
0x0000000000401357 <+183>:	call   0x401030 <puts@plt>
.

(gdb) disassemble 0x401030
Dump of assembler code for function puts@plt:
   0x0000000000401030 <+0>:	jmp    QWORD PTR [rip+0x2fe2]        # 0x404018 <puts@got.plt>
   0x0000000000401036 <+6>:	push   0x0
   0x000000000040103b <+11>:	jmp    0x401020
End of assembler dump.

(gdb) x/xg 0x404018
0x404018 <puts@got.plt>:	0x0000000000401036

(gdb) continue
Continuing.

(gdb) x/xg 0x404018
0x404018 <puts@got.plt>:	0x00007ffff7dffe50 #After Lazy Binding

(gdb) set {long int}0x404018=0x0040123b #Modify GOT

(gdb) x/xg 0x404018
0x404018 <puts@got.plt>:	0x000000000040123b #Modifed GOT

(gdb) continue
Continuing.

You Win
```

2. When the execution has jumped to the corresponding instruction set in plt, it again jumps to the corresponding address in the got section where the address is mapped to the address of the next instruction in plt to be resolved by dynamic linker or the address in libc if it is already resolved.

Note: plt is an instruction set while the got is the table that maps [] to the addresses of the libc or the address of next line in plt section for lazy binding.

# Dynamically Linked
To list dynamic libraries used
```
ldd FILE
```
`#include file.h` statements only put function declarations in the specified header file **literally**. Function definitions are somewhere else (in system libraries like libc or locally defined libraries) and they are linked altogether by linker.

# Lazy Binding
Lazy binding is a technique where the resolution of a function is postponed until it is actually needed or accessed.
